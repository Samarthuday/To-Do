<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.18.0/dist/full.css" rel="stylesheet" type="text/css" />
    <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="res/favicon.ico">
    <link rel="stylesheet" href="mainstyle.css">
    <title>TaskMaster</title>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- Sidebar -->
    <aside class="bg-gray-800 text-white w-64 flex-shrink-0 p-4">
        <h1 class="text-2xl font-bold mb-4">TaskMaster</h1>

        <!-- Priority Dropdown -->
        <section class="mb-6">
            <div class="dropdown">
                <label tabindex="0" class="btn m-1">Priority</label>
                <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52 priority-dropdown-content">
                    <li onclick="filterByPriority('highest')"><a><i class='bx bxs-up-arrow-circle text-red-500'></i> Highest</a></li>
                    <li onclick="filterByPriority('high')"><a><i class='bx bxs-up-arrow text-orange-500'></i> High</a></li>
                    <li onclick="filterByPriority('low')"><a><i class='bx bxs-down-arrow text-blue-500'></i> Low</a></li>
                </ul>
            </div>
        </section>

        <!-- Categories Dropdown with Add/Delete Options -->
<section class="mb-6">
    <div class="dropdown">
        <label tabindex="0" class="btn m-1">Categories</label>
        <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
            <li onclick="showAddCategoryForm()">
                <a>
                    <i class='bx bx-plus'></i> Add Category
                </a>
            </li>
            <li onclick="showDeleteCategoryForm()">
                <a>
                    <i class='bx bx-minus'></i> Delete Category
                </a>
            </li>
        </ul>
    </div>
    <div class="mt-4" id="add-category-form" style="display: none;">
        <input type="text" class="input input-bordered input-secondary w-full mb-2" placeholder="New Category Name" id="new-category-name">
        <button class="btn btn-primary w-full" onclick="addCategory()">Add Category</button>
    </div>
    <div class="mt-4" id="delete-category-form" style="display: none;">
        <label class="text-sm mb-2 block">Select category to delete:</label>
        <select class="select select-bordered select-secondary w-full mb-2" id="delete-category-select">
            <!-- Categories will be dynamically populated here -->
        </select>
        <button class="btn btn-danger w-full" onclick="deleteCategory()">Delete Category</button>
    </div>
</section>


        <!-- Trash Dropdown -->
        <section class="mb-6">
            <div class="dropdown">
                <label tabindex="0" class="btn m-1">Trash</label>
                <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52" id="trash-dropdown">
                    <!-- Deleted tasks will be moved here -->
                </ul>
            </div>
        </section>
    </aside>

    <!-- Logout Button  & Theme Selector-->
    <section>
        <div class="absolute bottom-4 left-4">
            <a href="index.html"><button class="btn btn-error" id="logout-button">Logout</button></a>
        </div>
    </section>
</aside>


    <!-- Main Content -->
    <div class="flex-grow flex flex-col">
        <header class="flex justify-between items-center p-4 bg-gray-900 text-white">
            <div class="input-section flex items-center">
                <input type="text" placeholder="Add a todo . . ." class="input input-bordered input-secondary mr-2" id="new-task-text">
                <input type="date" class="input input-bordered input-secondary mr-2" id="new-task-date">
                <select id="priority-select" class="select select-bordered select-secondary mr-2">
                    <option value="">Select Priority</option>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                </select>
                <select id="category-select" class="select select-bordered select-secondary mr-2">
                    <option value="">Select Category</option>
                    <!-- Categories will be dynamically populated here -->
                </select>
                <button class="btn btn-secondary add-task-button">
                    <i class="bx bx-plus bx-sm"></i>
                </button>
            </div>
            <div class="todos-filter">
                <div class="dropdown">
                    <label tabindex="0" class="btn m-1">Filter</label>
                    <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                        <li onclick="filterTodos('all')"><a>All</a></li>
                        <li onclick="filterTodos('pending')"><a>Pending</a></li>
                        <li onclick="filterTodos('completed')"><a>Completed</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <table class="table w-full">
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Due Date</th>
                    <th>Priority</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody class="todos-list-body">
                <!-- Tasks will be dynamically added here -->
            </tbody>
        </table>
    </div>

    <div class="absolute bottom-4 right-4">
        <div class="dropdown">
            <button tabindex="0" class="btn btn-circle" id="theme-toggle">
                <i class='bx bx-moon text-xl'></i>
            </button>
            <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                <li onclick="setTheme('light')"><a>Light Mode</a></li>
                <li onclick="setTheme('dark')"><a>Dark Mode</a></li>
            </ul>
        </div>
    </div>


    <!-- Add Category Modal -->
    <div class="modal" id="add-category-modal">
        <div class="modal-box">
            <h3 class="font-bold text-lg">Add Category</h3>
            <input type="text" placeholder="Category Name" class="input input-bordered w-full mt-4" id="new-category-name-input">
            <div class="modal-action">
                <button class="btn btn-primary" onclick="addCategory()">Submit</button>
                <a href="#" class="btn" onclick="closeAddCategoryModal()">Cancel</a>
            </div>
        </div>
    </div>

    

    <!-- JavaScript -->
    <script src="js/main.js"></script>
</body>
</html>
